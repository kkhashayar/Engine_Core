- script: |
    git config --global user.email "frankdezz@gmail.com"
    git config --global user.name "kkhashayar"

    # Remove old remote (if exists)
    git remote remove github || echo "No existing remote"

    # Add GitHub remote using PAT authentication
    git remote add github https://$(GitHubPAT)@github.com/kkhashayar/Engine_Core.git

    # Ensure correct branch
    git branch
    git checkout -b master || git checkout master
    git pull github master

    # Push changes from Azure DevOps to GitHub
    git push --set-upstream github master
  displayName: 'Push Changes to GitHub'
  env:
    GitHubPAT: $(GitHubPAT)  # Secure GitHub authentication
